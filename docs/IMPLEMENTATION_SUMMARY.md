# โ ููุฎุต ุชุทููุฑ ูุธุงู ุงูุณูุฉ ูุงูุทูุจุงุช

## ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ

ุชู ุจูุฌุงุญ ุชุทููุฑ ูุธุงู ุดุงูู ููุชูุงูู ูุฅุฏุงุฑุฉ ุงูุณูุฉ ูุงูุทูุจุงุช ูู ุชุทุจูู ุฅุฏุงุฑุฉ ุงููุทุงุนู.

---

## ๐ฏ ูุง ุชู ุฅูุฌุงุฒู

### 1๏ธโฃ Backend (Collections & Services)

#### โ Cart Collection
- **ุงูููู**: `src/collections/Cart.ts`
- **ุงููููุฒุงุช**:
  - ุฏุนู ุงููุณุชุฎุฏููู ุงููุณุฌููู ูุงูุถููู
  - ูุนุฑู ุฌูุณุฉ ูุฑูุฏ ููุถููู
  - ุนูุงุตุฑ ุงูุณูุฉ ูุน ุชุฎุตูุตุงุช
  - ุญุณุงุจ ุชููุงุฆู ููุฃุณุนุงุฑ (ุงููุฌููุน ุงููุฑุนูุ ุงูุถุฑูุจุฉ 15%ุ ุงูุฅุฌูุงูู)
  - ุฏุนู ููุจููุงุช ุงูุฎุตู
  - ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู ุจุนุฏ 24 ุณุงุนุฉ
  - ุชุชุจุน ุญุงูุฉ ุงูุณูุฉ (ูุดุทุฉุ ูุชุฑููุฉุ ูุญููุฉุ ููุชููุฉ)

#### โ Cart Service
- **ุงูููู**: `src/services/cart.service.ts`
- **ุงููุธุงุฆู**:
  - `getOrCreateCart()`: ุฅูุดุงุก ุฃู ุงูุญุตูู ุนูู ุณูุฉ
  - `addItem()`: ุฅุถุงูุฉ ููุชุฌ
  - `updateItem()`: ุชุญุฏูุซ ููุชุฌ
  - `removeItem()`: ุญุฐู ููุชุฌ
  - `clearCart()`: ูุณุญ ุงูุณูุฉ
  - `applyCoupon()`: ุชุทุจูู ููุจูู
  - `convertToOrder()`: ุชุญููู ูุทูุจ
  - `getActiveCart()`: ุงูุญุตูู ุนูู ุงูุณูุฉ ุงููุดุทุฉ

#### โ ุชุญุฏูุซ Orders Collection
- ูุฑุงุญู ุทูุจ ูุชุนุฏุฏุฉ ูููุตูุฉ
- ุฏุนู ุซูุงุซุฉ ุฃููุงุน ุทูุจุงุช
- ุญุงูุฉ ุงููุทุจุฎ ููู ููุชุฌ
- ุญุณุงุจุงุช ุชููุงุฆูุฉ

### 2๏ธโฃ Frontend (Hooks & Components)

#### โ React Hooks

**useCart** - `src/hooks/cart/useCart.ts`
```typescript
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุณูุฉ
- ุชุญููู ุชููุงุฆู
- ุฅุถุงูุฉุ ุชุญุฏูุซุ ุญุฐู ููุชุฌุงุช
- ุชุทุจูู ููุจููุงุช
- ูุนุงูุฌุฉ ุฃุฎุทุงุก
```

**useCheckout** - `src/hooks/cart/useCheckout.ts`
```typescript
- ุฅูุดุงุก ุทูุจ ูู ุงูุณูุฉ
- ูุนุงูุฌุฉ ุจูุงูุงุช ุงูุนููู
- ุฏุนู ุฌููุน ุฃููุงุน ุงูุทูุจุงุช
- ุชุญููู ุงูุณูุฉ ุชููุงุฆูุงู
```

#### โ React Components

1. **CartIcon** - `src/components/cart/CartIcon.tsx`
   - ุฃููููุฉ ุณูุฉ ูุน ุนุฏุงุฏ
   - ุชุญุฏูุซ ุชููุงุฆู
   - ูุคุดุฑ ุชุญููู

2. **AddToCartButton** - `src/components/cart/AddToCartButton.tsx`
   - ูุงูุฐุฉ ููุจุซูุฉ ูุชูุงุตูู ุงูููุชุฌ
   - ุงุฎุชูุงุฑ ุงููููุฉ
   - ุฅุถุงูุฉ ุชุฎุตูุตุงุช
   - ุนุฑุถ ุงูุณุนุฑ ุงูุฅุฌูุงูู

3. **ShoppingCart** - `src/components/cart/ShoppingCart.tsx`
   - ุนุฑุถ ูุงูู ููุณูุฉ
   - ุชุนุฏูู ุงููููุงุช
   - ุญุฐู ููุชุฌุงุช
   - ููุฎุต ุงูุฃุณุนุงุฑ
   - ุฒุฑ ุฅุชูุงู ุงูุทูุจ

4. **CheckoutPage** - `src/components/cart/CheckoutPage.tsx`
   - ูููุฐุฌ ูุนูููุงุช ุงูุนููู
   - ุงุฎุชูุงุฑ ููุน ุงูุทูุจ
   - ุนููุงู ุงูุชูุตูู (ููุชูุตูู)
   - ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
   - ููุฎุต ุงูุทูุจ
   - ุชุฃููุฏ ุงูุทูุจ

5. **OrderTracking** - `src/components/orders/OrderTracking.tsx`
   - ุชุชุจุน ูุฑุงุญู ุงูุทูุจ
   - Timeline ุชูุงุนูู
   - ุชุญุฏูุซ ุชููุงุฆู ูู 30 ุซุงููุฉ
   - ุนุฑุถ ุชูุงุตูู ุงูุทูุจ
   - ุญุงูุฉ ูู ููุชุฌ
   - ูุนูููุงุช ุงูุนููู ูุงูุฏูุน

### 3๏ธโฃ Documentation

#### โ ูููุงุช ุงูุชูุซูู

1. **CART_AND_ORDERS_SYSTEM.md**
   - ุชูุซูู ุดุงูู ูููุธุงู
   - ุดุฑุญ ุงูุจููุฉ ุงูุชูููุฉ
   - API Reference
   - ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู
   - ูุณุงุฑ ุงูุนูู ุงููุงูู

2. **QUICK_START_CART.md**
   - ุฏููู ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ
   - ุฃูุซูุฉ ุงูููุฏ
   - ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู
   - ูุตุงุฆุญ ูููุฉ
   - ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

3. **CART_UPDATE.md**
   - ููุฎุต ุงูุชุญุฏูุซ
   - ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ
   - ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

---

## ๐ฆ ุงููููุงุช ุงูููุดุฃุฉ

### Collections (1 ููู)
- โ `src/collections/Cart.ts`

### Services (1 ููู)
- โ `src/services/cart.service.ts`

### Hooks (3 ูููุงุช)
- โ `src/hooks/cart/index.ts`
- โ `src/hooks/cart/useCart.ts`
- โ `src/hooks/cart/useCheckout.ts`

### Components (7 ูููุงุช)
- โ `src/components/cart/index.ts`
- โ `src/components/cart/CartIcon.tsx`
- โ `src/components/cart/AddToCartButton.tsx`
- โ `src/components/cart/ShoppingCart.tsx`
- โ `src/components/cart/CheckoutPage.tsx`
- โ `src/components/orders/index.ts`
- โ `src/components/orders/OrderTracking.tsx`

### Documentation (3 ูููุงุช)
- โ `docs/CART_AND_ORDERS_SYSTEM.md`
- โ `docs/QUICK_START_CART.md`
- โ `docs/CART_UPDATE.md`

### ูููุงุช ูุญุฏุซุฉ (2 ููู)
- โ `src/payload.config.ts` (ุฅุถุงูุฉ Cart collection)
- โ `src/services/index.ts` (ุชุตุฏูุฑ cart.service)

---

## ๐จ ุงููููุฒุงุช ุงูุชูููุฉ

### ๐ ุงูุฃูุงู
- โ ุชุตููุฉ ุงูุณูุฉ ุญุณุจ ุงููุณุชุฎุฏู/ุงูุฌูุณุฉ
- โ ุตูุงุญูุงุช ูุญููุฉ ููุทูุจุงุช
- โ ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู Backend
- โ ุญุณุงุจุงุช ุชููุงุฆูุฉ ูููุน ุงูุชูุงุนุจ

### โก ุงูุฃุฏุงุก
- โ Hooks ูุญุณููุฉ ูุน useCallback
- โ ุชุญููู ุชููุงุฆู ุฐูู
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงูุทูุจ

### ๐ ุงูุชุฑุฌูุฉ
- โ ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ
- โ ุฏุนู RTL
- โ ูุตูุต ูุชุฑุฌูุฉ

### ๐ฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- โ ูุงุฌูุงุช ุณููุฉ ุงูุงุณุชุฎุฏุงู
- โ ุฑุฏูุฏ ูุนู ููุฑูุฉ
- โ ูุคุดุฑุงุช ุชุญููู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ุชุฃููุฏุงุช ููุฅุฌุฑุงุกุงุช

---

## ๐ ูุณุงุฑ ุงูุนูู ุงููุงูู

```
1. ุงูุนููู ูุชุตูุญ ุงููุงุฆูุฉ
   โ
2. ูุถูู ููุชุฌุงุช ููุณูุฉ (AddToCartButton)
   - ูุฎุชุงุฑ ุงููููุฉ
   - ูุถูู ุชุฎุตูุตุงุช
   โ
3. ูุฑุงุฌุน ุงูุณูุฉ (ShoppingCart)
   - ูุนุฏู ุงููููุงุช
   - ูุญุฐู ููุชุฌุงุช
   โ
4. ููุชูู ููุฏูุน (CheckoutPage)
   - ูุฏุฎู ุจูุงูุงุชู
   - ูุฎุชุงุฑ ููุน ุงูุทูุจ
   - ูุฏุฎู ุนููุงู ุงูุชูุตูู
   - ูุฎุชุงุฑ ุทุฑููุฉ ุงูุฏูุน
   โ
5. ูุคูุฏ ุงูุทูุจ
   - ุชุญููู ุงูุณูุฉ ูุทูุจ ุชููุงุฆูุงู
   - ุฅูุดุงุก ุฑูู ุทูุจ ูุฑูุฏ
   โ
6. ูุชุงุจุน ุงูุทูุจ (OrderTracking)
   - ุชุญุฏูุซ ุชููุงุฆู ูู 30 ุซุงููุฉ
   - ูุฑุงุญู ููุตูุฉ
   - ุชุชุจุน ูู ููุชุฌ
   โ
7. ูุณุชูู ุงูุทูุจ
```

---

## ๐ฏ ูุฑุงุญู ุงูุทูุจ

```
pending (ููุฏ ุงูุงูุชุธุงุฑ)
  โ
confirmed (ูุคูุฏ) โ ุฎุตู ุงููุฎุฒูู
  โ
preparing (ููุฏ ุงูุชุญุถูุฑ)
  โ
ready (ุฌุงูุฒ)
  โ
[dine-in: served] [takeaway: completed] [delivery: delivering]
  โ
completed (ููุชูู)
```

---

## ๐ฐ ุญุณุงุจุงุช ุงูุฃุณุนุงุฑ

### ุงูุณูุฉ
```typescript
// ููู ููุชุฌ
subtotal = price ร quantity

// ููุณูุฉ
pricing.subtotal = sum(all items.subtotal)
pricing.tax = subtotal ร 0.15  // 15%
pricing.total = subtotal + tax - discount
itemCount = sum(all items.quantity)
```

### ุงูุทูุจ
```typescript
// ูุชู ูุณุฎ ุงูุญุณุงุจุงุช ูู ุงูุณูุฉ
// + ุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ
```

---

## ๐ง ุงูุชูุงูู

### ูุน ุงููุฎุฒูู
```typescript
// ุนูุฏ ุชุฃููุฏ ุงูุทูุจ (status = 'confirmed')
- ุงุณุชูุฒุงู ุงููุฎุฒูู ูู ProductRecipes
- ุฅุดุนุงุฑ ุงููุทุจุฎ
- ุจุฏุก ุชุชุจุน ุงูุทูุจ
```

### ูุน RBAC
```typescript
// ุงูุณูุฉ
- ุงููุฑุงุกุฉ: ุงูุฌููุน (ูุน ุชุตููุฉ)
- ุงูุฅูุดุงุก: ุงูุฌููุน
- ุงูุชุญุฏูุซ: ุงููุงูู ููุท
- ุงูุญุฐู: ุงููุงูู ููุท

// ุงูุทูุจุงุช
- ุงููุฑุงุกุฉ: Admin (ุงููู) ุฃู ููุธู (ูุทุนูู)
- ุงูุฅูุดุงุก: ุงูุฌููุน ุฃู ุจุตูุงุญูุฉ
- ุงูุชุญุฏูุซ: Admin ุฃู ุจุตูุงุญูุฉ
- ุงูุญุฐู: Admin ููุท
```

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุจุณูุท (ูุจุชุฏุฆ)
```tsx
import { CartIcon, ShoppingCart, CheckoutPage } from '@/components/cart'
import { OrderTracking } from '@/components/orders'

// ุงุณุชุฎุฏู ุงูููููุงุช ุงูุฌุงูุฒุฉ ูุจุงุดุฑุฉ
```

### ูุชูุฏู (ูุญุชุฑู)
```tsx
import { useCart, useCheckout } from '@/hooks/cart'
import { cartService, ordersService } from '@/services'

// ุจูุงุก ููููุงุช ูุฎุตุตุฉ
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ููุชุฑุญุฉ)

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ
- [ ] ูุธุงู ุงูููุจููุงุช ูุงูุฎุตููุงุช ุงููุงูู
- [ ] ุชุชุจุน ุงูุทูุจ ุจุงูุฎุฑูุทุฉ (ููุชูุตูู)
- [ ] ุฅุดุนุงุฑุงุช Push ููุนููุงุก
- [ ] ุชูููู ุงูุทูุจ ุจุนุฏ ุงูุงุณุชูุงู
- [ ] ุฑุจุท ุจุฑูุงูุฌ ุงูููุงุก ุจุงูุทูุจุงุช

### ุชุญุณููุงุช ูุณุชูุจููุฉ
- [ ] ุฏุนู ุงูุทูุจุงุช ุงููุฌุฏููุฉ
- [ ] ุทูุจุงุช ูุชุนุฏุฏุฉ ูููุณ ุงูุทุงููุฉ
- [ ] ุชูุณูู ุงููุงุชูุฑุฉ
- [ ] ุทุจุงุนุฉ ุงูููุงุชูุฑ
- [ ] ุชุตุฏูุฑ ุชูุงุฑูุฑ ุงูุทูุจุงุช

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุฅูุดุงุก ูุธุงู ุณูุฉ ูุทูุจุงุช **ุดุงูู** ู **ูุชูุงูู** ู **ุฌุงูุฒ ููุงุณุชุฎุฏุงู** ูุชุถูู:

โ **15 ููู ุฌุฏูุฏ** (Collections, Services, Hooks, Components, Docs)  
โ **2 ููู ูุญุฏุซ** (Config, Services Index)  
โ **5 ููููุงุช React** ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู  
โ **2 Hooks** ูุญุณููุฉ  
โ **3 ูููุงุช ุชูุซูู** ุดุงููุฉ  
โ **ูุธุงู ูุงูู** ูู ุงูุจุฏุงูุฉ ููููุงูุฉ  

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู!** ๐

---

_ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ: ${new Date().toLocaleDateString('ar-SA')}_
